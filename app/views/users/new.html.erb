<% provide(:title, "Sign Up") %>
<section id="signup">
  <div class="signup-breadcrumb">
     <div id="create-account">
         Create Account/Créer le Compte
     </div>
  </div>
  <div class="signup-title">Create your personal account/Créer le Compte Personel</div>

  <%= form_for @new_user do |f| %>

    <div id= "required2"><p id = "required_label">Required fields</p></div>

    <div id = "required" ><%= f.label :name , "Full Name/Nom" %></div>
    <%= content_tag :span, @new_user.errors[:name][0], class: 'form-error' %>
    <%= content_tag :span, @new_user.errors[:name][1], class: 'form-error',
        style: 'display: block;' if @new_user.errors[:name][1] %>
    <%= f.text_field :name, autofocus: true %>

    <div id = "required" ><%= f.label :username, "Username/Nom d'Utilisateur" %></div>

    <%= content_tag :span, @new_user.errors[:username][0], class: 'form-error' %>
    <%= content_tag :span, @new_user.errors[:username][1], class: 'form-error',
        style: 'display: block;' if @new_user.errors[:username][1] %>
    <%= f.text_field :username, autofocus: true %>

    <div id = "required" ><%= f.label :email , "Email/Adresse Courriel" %></div>
    <%= content_tag :span, @new_user.errors[:email].first, class: 'form-error' %>
    <%= f.email_field :email %>

    <div id = "required" ><%= f.label :password ,"Password/Mot de passo" %></div>
    <%= content_tag :span, @new_user.errors[:password][0], class: 'form-error' %>
    <%= content_tag :span, @new_user.errors[:password][1], class: 'form-error',
        style: 'display: block;' if @new_user.errors[:password][1] %>
    <u>Use at least one uppercase letter, one lowercase letter,
      one number and be eight characters long./ Utilisez au moins une lettre majuscule, une lettre minuscule, un chiffre et il doit être huit caractères de long.</u>
    <%= f.password_field :password %>

    <div id = "required" ><%= f.label :password_confirmation, "Password Confirmation/ Confirmation de Mot de Passe" %></div>
    <%= content_tag :span, @new_user.errors[:password_confirmation][0], class: 'form-error' %>
    <%= content_tag :span, @new_user.errors[:password][1], class: 'form-error',
        style: 'display: block;' if @new_user.errors[:password][1] %>
    <%= f.password_field :password_confirmation %>

    <div id = "required" ><%= f.label :gender %></div>
    <%= content_tag :span, @new_user.errors[:gender].first, class: 'form-error' %>
    <%= f.select :gender, ["Male", "Female", "Other", "Prefer not to specify"] , prompt: "Choose..." %><br><br>

    <div id = "required" ><%= f.label :identity, "I am a ..." %></div>
    <%= f.radio_button(:identity, "grad", :class => "show_extra",:style => "display:inline")%><%= f.label(:identity_student, "Grad")  %><br>
    <%= f.radio_button(:identity, "undergrad", :class => "show_extra",:style => "display:inline")%><%= f.label(:identity_student, "Undergrad")  %><br>
    <%= f.radio_button(:identity, "faculty_member", :class => "show_extra",:style => "display:inline") %><%= f.label(:identity_other, "Faculty Member") %><br>
    <%= f.radio_button(:identity, "community_member", :class => "show_extra",:style => "display:inline") %><%= f.label(:identity_other, "Community Member") %><br>

<section id="hidden">
    <div id = "required" ><%= f.label :student_id , "Student Number" %></div>
    <%= content_tag :span, @new_user.errors[:student_id].first, class: 'form-error' %>
    <%= f.text_field :student_id, autofocus: true %>


    <div id = "required" ><%= f.label :faculty , "Faculty"%></div>
    <%= content_tag :span, @new_user.errors[:faculty].first, class: 'form-error' %>
    <%= f.select :faculty, ["Arts","Education","Engineering","Law","Medicine","Science"," Social Sciences","Telfer school of Management"] , prompt: "Choose..." %><br><br>

    <% programs = File.read("#{Rails.root}/public/programs.txt").lines %>
    <div id = "required" ><%= f.label :program, "Program" %></div>
    <%= content_tag :span, @new_user.errors[:program].first, class: 'form-error' %>
    <%= f.select(:program, programs , {prompt: "Choose..."} , {:class => "programs", :id => "options"}) %><br><br>

    <div id = "required" ><%= f.label :year_of_study, "What year are you in?", style: 'margin-bottom: 0.5rem; display: inline;' %></div>
    <%= content_tag :span, @new_user.errors[:year_of_study].first, class: 'form-error' %>
    <%= f.select :year_of_study, ["1", "2", "3","4","5"] , prompt: "Select a year ..." %><br><br>
</section>

    <%= f.label :use, "What do you plan on using MakerRepo for?", style: 'margin-bottom: 0.5rem; display: block;' %>
    <%= f.select :use, ["Course", "Personal Project", "Business", "Other"] , prompt: "Select a use case..." %>

    <%= content_tag :span, text_area_tag(:use), class: 'other' %>
    <br><br>
    <%= f.label :how_heard_about_us, "How did you hear about us? (optional)" %>
    <%= f.text_area :how_heard_about_us, class: "profile-text" %>


    <div id = "required" ><div id="terms_and_conditions_box" ></div>
      <%= f.check_box :terms_and_conditions, :style => "float:right;" %>
      <%= f.label :terms_and_conditions, :class => "checkbox inline" do "I agree to the #{link_to "terms and condition", "terms_and_conditions.pdf", target: "blank"}/J\'accepte les #{link_to "termes et conditions", "terms_and_conditions.pdf", target: "blank"}".html_safe end %>
      <%= content_tag :span, @new_user.errors[:terms_and_conditions].first, class: 'form-error' %>
    </div>

    <%= f.submit "Create Account/Créer mon Compte", class: 'signup-button' %>
    <% if flash[:notice] %>
      <div id="notice"><%flash[:notice] %></div>
    <% end %>

  <% end %>

</section>
