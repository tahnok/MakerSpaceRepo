<% provide(:title, "New Learning Module") %>
<section class="card">
  <div class="col-lg-7 mx-auto">
    <br />
    <h2 class="text-center"><b>New Learning Module</b></h2>
    <div class="row">
      <div class="col-lg-12">
        <%= form_for @learning_module, url: {controller: "learning_area", action: "create"}, html: {multipart: true} do |f| %>
          <div class="mb-3">
            <%= f.label :title, "Title*", class:"form-label" %>
            <%= f.text_field :title, id:"repository_title", placeholder: "Title of the learning module...", class: 'form-control', required: true %>
            <br />
            <%= f.label :description, "Description (You can now input a wiki.makerepo.com link and the page will be displayed)", class:"form-label" %>
            <%= f.trix_editor :description, placeholder: "Description of the learning module...", class: 'form-control', required: true, id: 'redactor', 'aria-label': 'Description (You can now input a wiki.makerepo.com link and the page will be displayed)' %>
            <br />
            <%= f.label :training_id, "Category*", class:"form-label" %>
            <%= f.select(:training_id, @training_categories , {} , {:class => "form-control form-select"}) %>
            <br />
            <%= f.label :level, "Level*", class:"form-label" %>
            <%= f.select(:level, @training_levels , {} , {:class => "form-control form-select"}) %>
            <br>
            <br>
            <%= label_tag :file, "Project files", class:"form-label"%>
            <div class="form-control">
              <%= file_field_tag 'files[]', type: :files, multiple: true, class: 'form-control-input', aria_label: 'Project Files / Fichiers du projet' %>
              <label class="form-label m-0" for="files_">Choose file</label>
            </div>
            <div id="file-container"></div>
            <br />
            <%= label_tag :photo, "Gallery*", class:"form-label" %>
            <div class="mx-auto repo-image">
              <div id="dragndrop">
                <br>
                <%= fa_icon 'cloud-upload' %>
                <p>Drag &amp; Drop</p>
              </div>
              <div class="form-control">
                <%= file_field_tag 'images[]', type: :files, multiple: true, class: "form-control-input", aria_label: "Select Pictures / Selectionner des images" %>
                <label class="form-label m-0" for="images_">Choose an image...</label>
              </div>
            </div>
            <div id="image-container" class="mx-auto"></div>

            <br />

            <div class="text-center">
              <%= f.submit "Create Learning Module", class: "btn btn-primary", id: "waiting-save-button" %>
              <br />
              <br />
              This could take several minutes. Do not refresh this page.
              <br />
              <span id="status-save"> </span>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</section>

